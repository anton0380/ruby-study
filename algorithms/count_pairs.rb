# Definition for a binary tree node.
class TreeNode
  attr_accessor :val, :left, :right
  def initialize(val = 0, left = nil, right = nil)
    @val = val
    @left = left
    @right = right
  end
end
# @param {TreeNode} root
# @param {Integer} distance
# @return {Integer}
def count_pairs(root, distance)
  leaves = []
  path = []
  find_leaves(root, distance, leaves, path)
  count = 0
  leaves.each_with_index do |l1, i|
    leaves.each_with_index do |l2, j|
      next if i == j
      count += 1 if compare_path(l1, l2, distance)
    end
  end
  count / 2
end

def find_leaves(node, distance, leaves, path)
  if node.left.nil? && node.right.nil?
    leaves.push(path)
  else
    unless node.left.nil?
      path_left = Array.new(path)
      path_left.push([node.val, 0])
      find_leaves(node.left, distance, leaves, path_left)
    end
    unless node.right.nil?
      path_right = Array.new(path)
      path_right.push([node.val, 1])
      find_leaves(node.right, distance, leaves, path_right)
    end
  end
end

def compare_path(leaf1, leaf2, distance)
  d = 2
  state = 0
  [leaf1.size, leaf2.size].max.times do |i|
    next if state == 0 && leaf1[i] == leaf2[i]
    if state == 0
      unless leaf1[i].nil? || leaf2[i].nil?
        next if leaf1[i][0] == leaf2[i][0]
      end
      state = 1
    end
    d += 1 unless leaf1[i].nil?
    d += 1 unless leaf2[i].nil?
    return false if d > distance
  end
  d <= distance
end

# [45,74,16,4,67,72,36,11,50,58,73,59,59,81,null,78,26,43,83,29,17,24,null,100,59,28,null,4,null,69,26,42,58,69,76,null,22,83,54,68,null,42,null,56,1,47,null,65,null,null,null,53,33,16,11,54,70,76,null,2,66,89,null,null,null,89,null,null,81,63,18,null,null,12,14,36,null,48,null,null,94,89,33,48,61,64,20,84,null,98,57,19,null,19,null,90,64,80,null,null,null,37,75,null,null,21,null,null,null,11,null,47,null,null,null,33,null,null,null,7,83,63,32,89,66,43,null,88,27,null,32,null,null,13,69,null,null,1,null,33,null,6,76,null,null,68,22,20,91,80,null,94,null,47,null,null,null,null,null,18,54,79,null,74,11,5,null,38,46,null,null,34,null,97,94,null,null,null,null,9,35,48,22,null,null,null,null,56,null,40,null,null,null,null,null,51,34,92,null,null,null,null,null,100,33,63,7,37,69,51,77,100,22,57,null,null,null,82,29,57,null,37,null,59,null,null,null,74,null,5,null,35,null,null,null,68,null,91,null,22,36,null,null,null,null,55,20,64,null,72,63,4,3,75,56,41,null,77,46,null,null,29,null,22,null,null,null,66,null,null,null,null,null,16,null,52,74,16,37,null,null,31,null,95,14,null,null,null,null,null,null,30,89,null,null,null,null,92,31,89,null,53,73,null,null,74,95,30,null,null,null,92,3,36,null,39,5,null,null,20,64,8,null,40,26,null,null,82,99,5,null,16,null,71,null,76,null,91,null,null,null,93,82,61,83,34,69,23,37,49,null,20,null,null,null,74,59,65,88,null,null,21,null,17,89,null,null,85,95,null,null,null,null,93,2,84,null,60,20,null,null,86,null,null,null,96,null,null,null,55,null,100,15,4,42,62,null,28,null,25,null,null,null,8,3,null,null,45,null,35,64,null,null,null,null,29,null,null,null,null,null,11,39,null,null,78,null,null,null,7,27,null,null,49,null,83,null,null,null,null,null,60,null,63,63,57,85,68,null,71,null,null,null,null,8,null,null,65,null,33,null,22,null,90,null,100,null,83,null,45,null,92,57,null,null,27,39,60,null,24,null,43,null,46,null,50,null,null,null,68,null,83,23,5,null,30,31,37,84,null,null,14,null,20,null,null,null,null,null,72,null,null,null,18,null,18,45,null,null,null,null,null,null,46,31,null,null,null,null,90,null,28,null,null,null,65,57,14,72,34,null,35,36,42,null,34,null,null,33,25,null,59,64,54,66,76,null,null,null,null,null,null,null,null,null,39,null,4,1,94,62,36,39,56,null,null,null,71,null,27,40,null,null,null,null,null,null,null,null,90,null,72,null,null,null,98,53,null,null,null,null,24,null,22,null,null,null,1,63,56,null,85,null,null,null,86,45,71,1,34,null,null,null,92,null,3,null,62,null,null,null,null,null,null,null,96,15,69,null,57,17,76,null,51,null,99,null,82,null,null,null,100,null,null,null,83,null,null,null,92,36,33,null,35,null,78,null,null,null,null,null,18,null,null,null,89,null,76,null,null,null,97,9,3,null,16,null,null,null,37,null,74,null,56,40,35,null,21,85,89,23,29,null,80,null,null,null,28,null,42,null,null,null,null,null,28,1,null,null,100,null,null,null,93,null,39,null,null,null,75,null,90,37,2,null,50,null,48,null,null,null,null,92,33,24,null,null,86,null,86,null,13,71,null,null,2,54,null,null,null,null,null,null,34,null,null,null,89,51,null,null,null,null,97,84,21,null,45,77,74,null,null,null,34,22,76,null,84,null,62,88,null,null,null,null,null,null,97,76,null,null,17,30,36,null,26,null,null,null,null,null,28,59,56,null,23]distance =
distance = 8
leaves = [[[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 0], [45, 0], [34, 0], [62, 0], [97, 0], [17, 0], [26, 0], [28, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 0], [45, 0], [34, 0], [62, 0], [97, 0], [17, 0], [26, 1], [59, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 0], [45, 0], [34, 0], [62, 0], [97, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 0], [45, 0], [34, 0], [62, 1], [76, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 0], [45, 0], [34, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 0], [45, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 0], [97, 1], [77, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 0], [89, 1], [84, 0], [74, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 0], [2, 1], [51, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 0], [33, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 0], [90, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 0], [28, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 0], [21, 1], [1, 0], [2, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 0], [97, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 1], [9, 0], [89, 0], [100, 0], [50, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 0], [92, 1], [9, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 1], [36, 0], [3, 0], [29, 0], [93, 0], [48, 0], [13, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 0], [96, 1], [36, 0], [3, 0], [29, 0], [93, 0], [48, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 0], [1, 1], [15, 0], [33, 0], [16, 0], [80, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 0], [94, 1], [63, 0], [69, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 1], [62, 0], [56, 0], [57, 0], [78, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 0], [65, 1], [62, 0], [56, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 1], [57, 0], [36, 0], [85, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 0], [83, 1], [57, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 1], [23, 0], [14, 0], [56, 0], [86, 0], [51, 0], [18, 0], [74, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 1], [23, 0], [14, 0], [56, 1], [45, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 0], [57, 1], [23, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 1], [85, 0], [5, 0], [34, 0], [71, 0], [71, 0], [82, 0], [89, 0], [56, 0], [42, 0], [75, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 1], [85, 0], [5, 0], [34, 0], [71, 0], [71, 0], [82, 0], [89, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 0], [100, 1], [85, 0], [5, 0], [34, 0], [71, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 1], [15, 0], [68, 0], [30, 0], [35, 0], [27, 0], [34, 0], [100, 0], [76, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 1], [15, 0], [68, 0], [30, 0], [35, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 1], [15, 0], [68, 0], [30, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 0], [93, 1], [15, 0], [68, 1], [31, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 1], [82, 0], [4, 0], [71, 0], [37, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 1], [82, 0], [4, 0], [71, 1], [84, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 0], [92, 1], [82, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 1], [31, 0], [61, 0], [62, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 0], [72, 1], [31, 1], [83, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 1], [63, 0], [89, 0], [34, 0], [25, 0], [65, 0], [14, 0], [25, 0], [90, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 0], [63, 1], [63, 0], [89, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 1], [7, 0], [4, 0], [53, 0], [23, 0], [8, 0], [33, 0], [20, 0], [59, 0], [72, 0], [3, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 1], [7, 0], [4, 0], [53, 0], [23, 0], [8, 0], [33, 0], [20, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 1], [7, 0], [4, 0], [53, 0], [23, 1], [3, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 1], [7, 0], [4, 0], [53, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 1], [7, 0], [4, 1], [73, 0], [49, 0], [45, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 0], [18, 1], [7, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 0], [75, 0], [74, 0], [20, 0], [35, 0], [100, 0], [72, 0], [54, 0], [98, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 0], [75, 0], [74, 0], [20, 0], [35, 0], [100, 0], [72, 0], [54, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 0], [75, 0], [74, 0], [20, 0], [35, 0], [100, 0], [72, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 0], [75, 0], [74, 0], [20, 1], [64, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 0], [75, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 1], [56, 0], [30, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 0], [37, 1], [56, 0], [30, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 0], [7, 1], [54, 1], [69, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 1], [83, 0], [79, 0], [51, 0], [77, 0], [92, 0], [65, 0], [29, 0], [45, 0], [18, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 1], [83, 0], [79, 0], [51, 0], [77, 0], [92, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 1], [83, 0], [79, 0], [51, 0], [77, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 1], [83, 0], [79, 0], [51, 1], [46, 0], [36, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 0], [89, 1], [83, 0], [79, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 0], [100, 0], [29, 0], [39, 0], [17, 0], [11, 0], [92, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 0], [100, 0], [29, 0], [39, 0], [17, 0], [11, 0], [92, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 0], [100, 0], [29, 0], [39, 0], [17, 0], [11, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 0], [100, 0], [29, 0], [39, 0], [17, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 0], [100, 0], [29, 0], [39, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 0], [100, 0], [29, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 0], [74, 1], [22, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 0], [63, 1], [11, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 0], [53, 1], [33, 1], [32, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 0], [89, 0], [38, 0], [82, 0], [66, 0], [20, 0], [85, 0], [78, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 0], [89, 0], [38, 0], [82, 0], [66, 0], [20, 0], [85, 0], [78, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 0], [89, 0], [38, 0], [82, 0], [66, 0], [20, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 0], [89, 0], [38, 0], [82, 0], [66, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 0], [89, 0], [38, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 0], [89, 1], [46, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 0], [48, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 0], [69, 1], [33, 1], [61, 0], [43, 0], [34, 0], [37, 0], [16, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 0], [97, 0], [59, 0], [52, 0], [40, 0], [93, 0], [7, 0], [60, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 0], [97, 0], [59, 0], [52, 0], [40, 0], [93, 0], [7, 0], [60, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 0], [97, 0], [59, 0], [52, 0], [40, 0], [93, 1], [27, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 0], [97, 0], [59, 0], [52, 0], [40, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 0], [97, 0], [59, 0], [52, 1], [26, 0], [84, 0], [49, 0]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 0], [97, 0], [59, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 0], [88, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 0], [64, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 0], [16, 1], [20, 1]], [[45, 0], [74, 0], [4, 0], [11, 0], [78, 1], [26, 1], [11, 0]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 0], [13, 0], [9, 0], [74, 0], [16, 0], [82, 0], [60, 0], [83, 0], [46, 0], [90, 0], [39, 0]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 0], [13, 0], [9, 0], [74, 0], [16, 0], [82, 1]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 0], [13, 0], [9, 0], [74, 0], [16, 1]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 0], [13, 0], [9, 0], [74, 1], [37, 0], [5, 0]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 0], [13, 1], [35, 0]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 1], [69, 0], [48, 0], [35, 0], [31, 0]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 0], [98, 1], [69, 1]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 0], [54, 1]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 0], [42, 1], [70, 0], [19, 0]], [[45, 0], [74, 0], [4, 0], [11, 1], [26, 1], [58, 0], [76, 0], [19, 0]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 0], [2, 0], [90, 0], [6, 0], [56, 0], [68, 0], [95, 0], [71, 0], [96, 0], [60, 0], [50, 0], [28, 0], [4, 0]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 0], [2, 0], [90, 0], [6, 0], [56, 0], [68, 0], [95, 0], [71, 0], [96, 0], [60, 0], [50, 0], [28, 1]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 0], [2, 0], [90, 0], [6, 0], [56, 0], [68, 1], [14, 0]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 0], [2, 0], [90, 1], [76, 0], [40, 0]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 0], [2, 1]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 1], [66, 0], [80, 0]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 0], [69, 1], [66, 0], [80, 1]], [[45, 0], [74, 0], [4, 1], [50, 0], [43, 1], [76, 0]], [[45, 0], [74, 0], [4, 1], [50, 1], [83, 1]], [[45, 0], [74, 1], [67, 0], [58, 0], [29, 0], [83, 0], [89, 0], [37, 0], [20, 0], [51, 0]], [[45, 0], [74, 1], [67, 0], [58, 0], [29, 0], [83, 0], [89, 0], [37, 0], [20, 0], [51, 1]], [[45, 0], [74, 1], [67, 0], [58, 0], [29, 0], [83, 0], [89, 0], [37, 0], [20, 1]], [[45, 0], [74, 1], [67, 0], [58, 0], [29, 0], [83, 0], [89, 0], [37, 1], [91, 0]], [[45, 0], [74, 1], [67, 0], [58, 0], [29, 0], [83, 0], [89, 1], [75, 0]], [[45, 0], [74, 1], [67, 0], [58, 0], [29, 1], [54, 1]], [[45, 0], [74, 1], [67, 0], [58, 1], [17, 0], [68, 0], [63, 0], [21, 0]], [[45, 0], [74, 1], [67, 0], [58, 1], [17, 0], [68, 1]], [[45, 0], [74, 1], [67, 1], [73, 0], [24, 0]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 0], [56, 0], [12, 0], [11, 0], [47, 0], [100, 0], [55, 0], [30, 0], [91, 0], [55, 0]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 0], [56, 0], [12, 0], [11, 0], [47, 0], [100, 0], [55, 0], [30, 0], [91, 0], [55, 1], [63, 0]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 0], [56, 0], [12, 0], [11, 0], [47, 0], [100, 0], [55, 1]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 0], [56, 0], [12, 0], [11, 0], [47, 0], [100, 1]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 0], [56, 0], [12, 0], [11, 0], [47, 1], [33, 0]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 0], [56, 1], [14, 0]], [[45, 1], [16, 0], [72, 0], [59, 0], [100, 1], [1, 0]], [[45, 1], [16, 0], [72, 0], [59, 1], [59, 0], [47, 0], [48, 0]], [[45, 1], [16, 0], [72, 1], [59, 0], [28, 0], [65, 1]], [[45, 1], [16, 1], [36, 0], [81, 0]]]

count = 0
leaves.each_with_index do |l1, i|
  leaves.each_with_index do |l2, j|
    next if i == j
    count += 1 if compare_path(l1, l2, distance)
  end
end
# output 324 need 322
puts count / 2
