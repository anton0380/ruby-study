# @param {Integer[]} arr1
# @param {Integer[]} arr2
# @return {Integer}
def longest_common_prefix(arr1, arr2)
  str1 = arr1.sort.reverse.map(&:to_s).map(&:chars)
  str2 = arr2.sort.reverse.map(&:to_s).map(&:chars)
  longest = 0
    str1.each do |s1|
      return longest if s1.size <= longest
      str2.each do |s2|
        break if s2.size <= longest
        l = 0
        min = [s1.size, s2.size].min
        min.times do |i|
          if s1[i] == s2[i]
            l += 1
          else
            break
          end
        end
        longest = [longest, l].max
      end
    end
  longest
end

arr1 = [1,10,100]
arr2 = [1000]
p longest_common_prefix arr1, arr2
# Output: 3
arr1 = [1,2,3]
arr2 = [4,4,4]
puts longest_common_prefix arr1, arr2
# Output: 0

arr1 = [7519117,6934448,4292642,9674160,8368193,4894774,2667392,8310271,9111356,9272607,1648203,1988098,4474687,1280536,5533815,7348181,3251435,4540842,9464387,9324166,6228530,7366177,1123010,2220259,4756494,4726944,1618729,9322413,2163350,5927405,7491016,4506777,5529595,9878687,3933582,2884806,8765368,4473593,7606759,9672942,5854546,1432698,7147568,1489419,2153634,1635129,6772297,6880971,1428245,5732659,6936556,4908343,8987004,4645972,9731796,7882082,6945841,7125490,8575844,7614146,4136046,1809011,3456391,8163843,7419449,6252152,1364167,9811804,7892995,4982374,3458611,3572174,7676910,4888557,2677016,1993217,3581661,4733271,9139162,4523840,7277030,4756974,7373515,1846807,7555594,3458818,5167777,4133693,9631236,7883067,9791140,5900821,7194068,1295871,6832656,3268592,4841360,1213342,5638328,6908775,9712792,4325514,7615151,4531629,6840816,8823387,6658684,6134870,7858627,7671376,3530167,2842998,1696925,2313649,9922524,8744656,1339416,8625257,3770418,2382506,9996949,9878676,4237619,9991559,8832886,7133266,8248987,3101150,8344698,4414538,8915846,8876682,9459317,2938169,3948338,1530764,4559315,7674508,1282847,8544965,3994292,2524441,6467416,2498449,6453536,2283168,4786409,3245161,6554144,8345191,6379123,9149684,9391253,7883593,3114422,5824019,7597847,4672828,9810979,7314499,3462570,2152049,8810651,1452910,4146873,5501167,5468987,7176518,1659447,6885897,8887155,1767168,1586789,8413662,7761914,7280230,1135455,8843385,7393085,4448537,8296255,4770549,4151738,9792983,2336802,7418005,4470213,2528062,3344211,4216785,6177702,4151386,9760527,7122068,2263834,7486544,6480195,8664885,7121718,2117751,5757719,6540880,1169286,2169253,8922876,5263926,1124288,2728853,5624310,7838322,5556147,3316846,9654242,6949894,9121676,2165823,5771033,7252540,2639472,9157412,1102454,2726906,2928283,9982805,6429620,7388823,6276719,7400424,6618300,8191551,8679399,8378845,1756156,4639572,8326042,2413814,8820760,6197442,6838723,1454767,6184179,8364532,1371192,6755409,2282270,8561974,4862561,9161701,2351975,8746455,7426054,1991195,4722484,2891459,4787974,7987290,4867584,6425170,9474140,8536079,3197819,9394880,3733540,1768855,1217229,3335704,7234246,9465207,3518303,9425803,1179646,8300263,6531153,7121736,6874361,2358435,5269280,4343428,1478826,1415253,8267991,1615978,9590786,8518031,1925726,5496704,8299763,7672712,3177113,7911423,5184544,2828878,5397021,9545254,7175511,6470495,6379764,6893747,6421863,4387897,9847395,8397222,1910603,9368231,5193043,7192595,3959090,9662015,3851854,6213713,5693384,9575091,3328078,7343667,4695933,1487341,4956788,8625554,9398458,2819138,4426909,2848853,5674040,3967997,4571064,7550610,1160649,9869992,1624595,6911645,2301602,6211125,6166102,7935136,1547338,1420218,8553463,9275636,4923788,3559517,9284595,1229848,2337966,8461289,1298502,6531600,7380188,1599645,2164072,7731944,5438483,4417957,9631353,1849511,4560312,6653604,8385043,1944648,6392890,8723850,9326612,6828170,9117562,8578090,9699275,3243421,9870511,8884884,8318412,3320224,5207818,2990550,2291473,8692238,8381236,7910628,4481103,9892382,3335197,8691615,3622164,3350008,3623108,9399329,7576039,7321211,1384451,8864422,7411463,6439614,6450539,4586038,8172484,8222544,9612120,2244106,6581731,3606278,7910578,4429523,6806474,4210412,7859690,6513313,8689899,2943872,5573631,3136309,4811242,2349786,3180651,7705149,7684747,2427074,2703305,9846074,4633366,3502536,6954427,6956035,4389594,5921593,8319106,2498218,8119445,8177176,3561850,5839048,2529821,4263579,3165345,7528816,1895867,2510143,9425641,8750293,2448321,5297355,1878300,6322657,7185395,7539326,6332289,2224407,8198476,3285169,6799121,8391620,6604192,9788190,6561612,4819690,9874501,9639051,3887342,2259631,1194689,6586204,2227482,9174187,8656722,3941405,3196868,3989016,1454324,2696088,7218540,5237556,1192133,1635278,3539077,9430441,8943547,8561366,1377155,2526356,2502229,5109805,2329540,2189005,8972810,1741119,2983916,3790407,7991943,4236425,6397709,1552924,7861423,5906548,5692506,8819668,1255506,3345031,8988168,7835176,8697634,7551654,1443852,9601896,2205429,6482107,8691493,1745430,1863668,9808340,1425854,2525798,2915487,5618882,5692415,8641860,6711757,9198216,4558329,2894391,6914796,5483910,8193095,5766025,5478862,6260089,8626989,2414306,9877668,2614643,2667746,3983375,7891577,9558809,6226582,3627177,7915812,5176649,5575284,5167935,5699654,3610408,8345010,3355033,9710965,2139498,8169409,5368346,6947931,1648604,3368728,2852069,9387573,4927307,6433343,4545965,7517750,3125922,9360479,3524664,8126418,3288720,8696002,7661137,4289702,3680437,5190540,9590699,5296753,9544879,3972772,5713077,2483872,8115389,4562043,6416272,9639903,9817063,8931910,8786154,8729174,8450856,5733794,5589445,5595885,5317845,3198493,4939754,2854400,1419530,4499563,2411385,3714796,9422780,1687629,1470278,3154381,7470220,5836120,7750188,6163748,5367595,7428123,2735849,5637690,5289074,7369434,5512735,8351403,8611446,6549577,8848742,6490569,4295118,4571591,2940256,6380345,1786585,8467640,3250203,9808588,8387714,2576919,7463151,6961825,1441264,7579357,4436759,1697310,8729437,8224728,7852434,2446986,4305500,5339603,2247076,1867637,8182319,9698661,4137913,3238092,7257352,7303991,7199415,3169453,6695978,3825088,1232790,1578485,6552553,3234530,6314208,8451081,6435301,5886771,7335543,7296215,1555655,2673434,7365327,4389826,1970730,3885266,3112977,2908726,6475849,6950451,8559209,1133174,3507573,2870929,5276387,7551357,5894280,3140875,9708792,8499988,8812819,7595349,9767454,9390509,7242253,1789463,6154629,2788713,5445749,7436723,2431962,5440102,6148267,7965190,1498398,3226118,7164717,1879039,4636861,9416151,1840162,1840689,9455915,1688247,7402096,4680955,8469002,4764759,1633513,7167569,4955374,4809719,2160445,3170336,4662621,5742475,3612326,2342033,9219509,4775234,1870912,4360538,4999874,4214545,2342295,6701994,5258987,9430252,6942409,9870110,7536967,4275374,7387999,7450510,6236216,8784344,7537360,2175322,1544036,5216102,3262506,3647358,1399066,6347654,8393797,5813271,8295663,2874157,6677486,5465200,9844341,8444970,7361996,4663624,2786560,3688775,4177064,3576748,8904486,2322209,4831251,8789783,7537996,8814457,6625297,4311336,6653954,6347381,9626791,1767398,2470186,2185378,2911508,7641194,3146496,9719569,8748599,5598438,9218168,6830419,3762434,5467046,8502701,2750978,6364210,5218370,9428287,7264825,5635737,2568342,8375671,3959129,2631523,7761631,1718536,5915645,8843883,1790653,2848456,3915647,5480765,3812272,9425323,9943208,4176992,8694389,2284928,9812095,2246860,8858677,9560863,4701984,6436902,4766227,2836262,1411305,4238440,9634760,8634099,2216120,7546479,4267421,4812612,3182823,3790374,7151858,7352964,5764107,7235964,5982792,8781480,6548002,9771663,1256833,2917410,7474463,6461802,9574922,4427316,9372286,4524162,5222302,2560875,1432723,8845861,5186652,3610089,3566973,7856491,3387753,6266031,3340005,2544977,8987859,1170004,2975329,5152285,5143050,5873172,9623750,2731076,7585048,7258898,1210427,2941865,4969199,8929163,4856581,6456535,6504988,1614380,1867308,3980364,6944993,2185041,2797954,2123982,6676978,5226822,7317822,5471784,8166855,8522696,5685347,8161831,6885944,2107029,9497882,1897060,1533549,4346897,8556342,4338733,1966193,7732446,2929546,1562090,9299421,9164713,7443802,6171791,9735081,2322865,9670569,9885360,1140576,9937357,8722816,2175389,9899505,2880490,6247949,6119714,6343173,6534735,6721058,4420422,4638988,1174048,9276878,9690976,1294002,3686110,6402540,6586420,7918424,6621070,2251209,5741699,3640792,8815007,5438796,5460758,8426135,9646278,2964691,1622057,9813712,5749538,1845579,3487341,6926759,8738747,6392072,9835068,4771586,3296659,9286005,6121785,5879793,4128713,6117471,6484814,6297091,1607496,9140595,8794539,5772971,2426191,4598404,3395524,7191930,6793248,6132690,6778248,8127624,7926262,5355217,8175086,4749976,4823919,3589363,8758913,8464885,1449764,5260206,6797321,7586631,7561277,9649248,7565134,5441501,5466671,9627828,2181330,3714320,6426919,5433903,7627053,3830138,2284390,9451118,3706286,9227629,3619380,6502830,4346284,1412031,9984866,1770129,2942468,8106557,1295295,5415654,5394588,9916044]
arr2 = [9745529,3731337,5837786,4482205,7364945,4900729,5177316,2246529,9581583,3689609,4615723,2438403,9362644,6491420,7249864,7645305,5511417,5167475,2627245,9673774,9365959,8462530,3348895,2154801,3338350,5616975,1279225,3354385,3130543,9382813,2495292,1995975,7643027,3935354,3640405,3900196,5177350,5383632,1854713,1331992,2964640,8192603,1527411,7156901,6696007,7331267,4348741,3842467,7923977,6734408,8421401,8994750,7314973,4274370,7823859,3894648,9230442,2831147,1672378,5139102,9182038,9447319,4221414,9950803,5601027,7655746,3627968,3565885,5853153,3703928,5323349,4613234,1155821,1655883,5831739,2945238,4283637,7580826,4422408,9999544,3729094,7906988,7319738,5897018,8675311,8881694,6138782,2436660,7384861,9477281,4882991,3350354,2535289,6186961,9725648,2243138,5316464,1270043,5733073,2428241,7987235,5650771,9995963,3574380,9980965,6902012,7859915,5493238,3425357,8492704,9911632,6298575,9689825,7536411,5743245,4952384,5250946,2901484,5784505,5827126,6299079,1445724,3142333,9956549,8215243,6222065,1226154,2915657,8672321,8581079,2948512,8846111,2230991,8953201,4219228,2357540,8191460,8896676,5331917,7262448,7725353,7161306,3791951,1271195,8501193,3875765,9312598,1619902,5837671,7167172,8477926,2277657,8935536,1812845,1703421,2850825,8896209,2282542,5974697,6521593,3871427,7633035,1416673,7875142,7997658,3325595,9966429,1811824,1563372,2169816,4892000,2887957,9830560,7311009,7970933,6599985,4826862,7928487,5988183,4402535,6410813,9864878,7792918,6715243,9602076,8720496,8299029,5914940,9535680,3460923,2716527,6566186,8220206,8575488,2702413,5964431,8962350,6756394,5887403,7980860,8801568,7306713,5788489,7682898,5159076,9274318,4566526,8798905,4426882,7182571,7779051,4430396,4305198,9501271,4121985,3132551,5404546,3357844,6461989,4240037,6383237,4640807,1570656,6296451,4978322,7639580,9239421,2275289,7481658,9893378,6374974,6661814,4877444,3643573,3795460,5876388,7100224,2967674,1238082,5812126,2559295,5967514,8886581,2369760,4219588,9965452,1110043,8832371,5373332,5447460,1391270,1222170,5577744,6654036,4203149,1840002,5536226,1178065,8734112,9277259,1398208,4971155,4552951,5249602,8970609,8173614,8160759,6497773,4191313,3983110,3998238,1180685,7934931,3293570,8881331,1624718,3486518,4793868,3259682,7654942,6338350,5826440,1973568,8478716,8918667,8204538,3208807,2292481,7374771,3237230,2964465,4132079,7979826,4864103,9364372,8214859,5113485,5260087,6619064,8212048,5222835,5358624,5481733,1291469,9192429,5191967,5329141,2383509,4461533,8284906,3555192,4425616,9667105,1247920,4171144,7366637,1100811,9463283,5559425,4820428,5977083,8324347,2863455,9152971,6783355,8212738,3684474,1386001,1885714,3503576,3674315,9189909,9523827,9861275,2570415,4188868,1314455,2153107,7490870,4240238,1390309,7231674,7620352,9238338,9241040,4755887,7746546,5664525,7575858,7376887,7230278,7381818,9299598,9256199,3105451,8609811,6978669,3148017,1833309,9804974,3472147,9260696,5222953,7831316,8817089,8349323,1955414,3726124,9896297,8242559,2949742,4586768,2975303,1123379,8632399,6764702,6847842,2786965,6882308,3832191,3552021,9371388,2173180,8968602,3889792,1542036,2271939,1982227,6633749,9955871,7873741,9472475,4280939,7911985,9869802,8833077,1362737,9162892,6317682,7560415,3796699,3664452,3740022,3124759,3387269,1567795,4347843,2857980,9469731,8985784,2383091,5568262,2589859,4494598,1255571,6642015,3669229,3933456,6145586,1138839,4778709,9936531,2409343,3368789,2580434,7349303,5697783,5692562,5642816,5229779,8722151,6153098,8927573,5182922,4518704,4544031,6157673,6117426,5623588,3598338,6607752,9342551,4295351,8466521,9386317,6371329,8868955,1772805,9883604,2496598,3184060,5453080,9499920,1480400,1658689,1979832,9607122,5464111,3302311,6526716,1132289,6396040,7632594,7290819,6518166,9616879,4292240,8880419,1984685,3959541,9796989,5753025,7225082,2634548,7564257,2607776,2771321,4234549,2691473,9473035,8923781,6250641,3220576,9991452,2813790,8240006,3676972,8578970,2735553,8464702,5773330,6172193,8836880,8842514,7644246,7949392,2117432,7237067,8241522,2213766,2158198,7906672,3681862,9262211,3976254,8191447,9321178,4999210,7987529,3812029,6289221,3220015,9840719,8884629,4972553,4205440,9949126,5506314,4286088,5864607,1622639,9339530,7461749,9201933,7437861,5399331,4233679,6326061,2236512,2546043,1376855,1120459,6949283,1267522,7428669,4689449,2811945,9161049,2618183,6493862,8269580,3300759,4558900,6757921,6414363,9130161,7445661,9496056,5925249,7371949,6838996,6626681,3945102,5182697,1647448,3812280,1713553,1141124,7181261,1706442,2860262,9369970,7575641,8336600,6637367,1239003,5162140,2876218,2837752,8432094,8899958,1721890,9792616,9829952,5810704,7879377,8899189,9365252,9552708,3916895,6450213,1715147,7267137,5233797,5667798,3162673,9430406,2382473,9343178,5643666,1910037,9312180,3805263,6240848,7392972,8782697,3299146,9567115,1122757,5485810,4694169,4953144,1786362,5657009,3482284,3287793,9464373,2119102,2739355,9361912,7505869,5761581,5581672,1280894,2396488,2832792,1592514,6422744,9227359,9487773,5624348,6347855,4137478,7790269,5530823,6194172,8233282,2461350,9757318,3877139,3397218,1947745,1161146,7830605,7926932,7149093,3634240,1839257,9345076,2207618,1617775,1470868,3380635,5990984,4824532,4265398,7684317,1173321,9878667,4329894,4164022,5484439,9854711,9492605,5911914,6297519,3957406,1702588,8677401,8695560,7361171,8683616,1754057,3131092,2240044,9353629,6686980,9919509,6830173,3287249,3543281,9691264,1824628,9895056,8203471,5147353,9425564,7441264,3246599,3914324,6618295,2982831,3543050,8286303,5699323,7704384,1945303,9902348,5980937,1230518,8674359,2573374,9364922,8862337,6573591,4174978,9575616,2314356,1771885,6752853,8314004,3856709,3844924,8651181,4818451,3454053,9153891,8381684,9749405,6557753,9197127,1473073,3247878,6810230,9738808,4398683,5933844,7833726,6517811,4855774,1411963,2193212,6387798,5818438,6694194,4313452,9184335,5326254,9557417,7555965,8216329,2421376,4142236,3339664,5614691,7679306,2142087,7645918,6214059,6475871,7357292,9863467,5244611,7409779,2441411,1494599,8635068,1766533,2956180,8243949,7815353,2444104,3967919,9825014,8520534,4228945,6924980,8273789,7464415,6117059,6627206,4463050,8343064,8577547,4874124,5737272,3742567,8829994,2513406,3831228,8578882,4350454,5658319,4318651,3849793,1885125,4142011,7981257,8402469,5652983,4937646,6453386,3950514,6986805,3853685,6413560,9453720,2620688,8125166,9981350,9884797,7347736,7484505,4550983,1802784,3641897,3533593,2477774,2890541,4751362,4717638,9334328,1296435,8584926,7450228,2824174,4824603,2902547,4112855,5715917,1542631,1693161,4623808,6914707,4763329,8935666,2762693,4350013,1310951,1170389,5230636,2194356,4676132,3714860,8906282,4139705,1215297,1448017,6316189,9179352,7138301,9174391,7842591,6989507,5676809,1562356,2681842,4694232,5196756,8420563,3393725,3534556,9928962,6189306,3255607,4196728,8910108,8264244,6498337,3941941,6577085,7591268,7899798,3806442,1754061,9518572,2239206,5199486,5426593,2131041,6742877,3764189,6239460,1209774,3668822,1313617,8570573,7192721,4241648,9745043,1713991,3439849,1993844,2647964,9390377,6241721,3554551,3793273,4768773,1490296,8826111,9598636,8263292,1905745,4431927,7108826,8265984,5733958,9462626,4722987,1564962,5274704,4180081,3854583,4336508,4782538,8894915,4995249,4234079,8740769,2519356,7716223,7136546,3188837,3386130,1178601,1577387,7565630,1712652,1628604,8821379,7721585,2570895,8809592,9167204,7989389,9293004,9998175,5381681,4235005,9594228,6129899,2432792,1256687,3311373,4312283,6713529,2209844,4455383,9849380,8447626,4118445,7105295,1785653,6344275,6342744,4311890,2417690,3626131,6870805,2170452,9645021,3883363,4464553,4477213,4680705,2804630,2569304,6792059,3650097,3835492,8985700,8886591,6637063,8363250,1481429,7554249,3217439,4130614,2337968,7374021,6867605,8447566,9912490,6902346,2255853,8180769,8519849,4957023,1549858,8556712,6721992,1954217,9295292,2397492,6628877,4235433,9921061,6822704,7891823,3393524,9509010,5173187,1279529,3572170,5557383,2312111,2474092,9867434,7662028,7897415,5884111,5300528,3432814,8641230,6739846,2997733,8896782,2999773]

require 'benchmark'
bench = Benchmark.measure {
  puts longest_common_prefix arr1, arr2
}
puts bench.real

arr1 = [5,22,12,20,19]
arr2 = [6,24,22,3,44]
puts longest_common_prefix arr1, arr2
